"use strict";(self.webpackChunkdocumentation_v_2=self.webpackChunkdocumentation_v_2||[]).push([[2607],{6796:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var i=s(4848),n=s(8453);const l={sidebar_position:20,slug:"wallets",title:"Wallets",description:"Manipulez les wallets",keywords:["cashless","billetterie","ticketing","cli","curl","python"],wiktags:["cashless","billetterie","ticketing","curl","python"],authors:"jonas"},r=void 0,d={id:"api/20 Wallets",title:"Wallets",description:"Manipulez les wallets",source:"@site/docs/api/20 Wallets.md",sourceDirName:"api",slug:"/api/wallets",permalink:"/fr/docs/api/wallets",draft:!1,unlisted:!1,editUrl:"https://github.com/TiBillet/documentation_v2/tree/main/docs/api/20 Wallets.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20,slug:"wallets",title:"Wallets",description:"Manipulez les wallets",keywords:["cashless","billetterie","ticketing","cli","curl","python"],wiktags:["cashless","billetterie","ticketing","curl","python"],authors:"jonas"},sidebar:"tutorialSidebar",previous:{title:"R\xe9servations et billets",permalink:"/fr/docs/api/reservations"}},o={},c=[{value:"Checkout Stripe",id:"checkout-stripe",level:2},{value:"<strong>Headers</strong>",id:"headers",level:3},{value:"Exemple de corps de la requ\xeate :",id:"exemple-de-corps-de-la-requ\xeate-",level:3},{value:"<strong>R\xe9ponse</strong>",id:"r\xe9ponse",level:2},{value:"Exemple de r\xe9ponse :",id:"exemple-de-r\xe9ponse-",level:3},{value:"<strong>Notes importantes</strong>",id:"notes-importantes",level:3}];function a(e){const t={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Api de manipulation de Wallet."}),"\n",(0,i.jsx)(t.h2,{id:"checkout-stripe",children:"Checkout Stripe"}),"\n",(0,i.jsx)(t.p,{children:"Cette API permet d'obtenir une URL de paiement Stripe pour recharger un portefeuille via une adresse e-mail sp\xe9cifi\xe9e."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"# Create Stripe refill checkout :\nPOST /api/wallet/get_stripe_checkout_with_email/\n"})}),"\n",(0,i.jsx)(t.h3,{id:"headers",children:(0,i.jsx)(t.strong,{children:"Headers"})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Nom"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Authorization"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsxs)(t.td,{children:["Le token d'autorisation au format ",(0,i.jsx)(t.code,{children:"Bearer <token fourni>"}),". Veillez \xe0 utiliser un token valide."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Content-Type"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsxs)(t.td,{children:["Doit \xeatre d\xe9fini sur ",(0,i.jsx)(t.code,{children:"application/json"}),"."]})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"exemple-de-corps-de-la-requ\xeate-",children:"Exemple de corps de la requ\xeate :"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "email": "adresse_email@example.com"\n}\n'})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Nom"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Obligatoire"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"email"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"Oui"}),(0,i.jsx)(t.td,{children:"L'adresse e-mail de l'utilisateur pour lequel g\xe9n\xe9rer l'URL de paiement."})]})})]}),"\n",(0,i.jsx)(t.h2,{id:"r\xe9ponse",children:(0,i.jsx)(t.strong,{children:"R\xe9ponse"})}),"\n",(0,i.jsx)(t.p,{children:"La r\xe9ponse contient l'URL de paiement Stripe permettant \xe0 l'utilisateur associ\xe9 de recharger son portefeuille."}),"\n",(0,i.jsx)(t.h3,{id:"exemple-de-r\xe9ponse-",children:"Exemple de r\xe9ponse :"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "stripe_checkout_url": "https://checkout.stripe.com/c/pay/cs_test_bWppYWB3dic%2FcXdwYHgl"\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"notes-importantes",children:(0,i.jsx)(t.strong,{children:"Notes importantes"})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Veillez \xe0 utiliser une adresse e-mail valide dans le corps de la requ\xeate."}),"\n",(0,i.jsx)(t.li,{children:"N'oubliez pas d'inclure le token d'autorisation dans l'en-t\xeate de la requ\xeate."}),"\n",(0,i.jsx)(t.li,{children:"L'URL g\xe9n\xe9r\xe9e est sp\xe9cifique \xe0 la session Stripe et ne peut \xeatre utilis\xe9e qu'une seule fois."}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>d});var i=s(6540);const n={},l=i.createContext(n);function r(e){const t=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(l.Provider,{value:t},e.children)}}}]);