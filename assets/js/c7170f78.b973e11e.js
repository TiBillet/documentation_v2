"use strict";(self.webpackChunkdocumentation_v_2=self.webpackChunkdocumentation_v_2||[]).push([[8194],{57608:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api/11 Reservations","title":"R\xe9servations et billets","description":"Cr\xe9ez un \xe9v\xe8nement avec entr\xe9e libre.","source":"@site/docs/api/11 Reservations.md","sourceDirName":"api","slug":"/api/reservations","permalink":"/docs/api/reservations","draft":false,"unlisted":false,"editUrl":"https://github.com/TiBillet/documentation_v2/tree/main/docs/api/11 Reservations.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"slug":"reservations","title":"R\xe9servations et billets","description":"Cr\xe9ez un \xe9v\xe8nement avec entr\xe9e libre.","keywords":["cashless","billetterie","ticketing","cli","curl","python"],"wiktags":["cashless","billetterie","ticketing","curl","python"],"authors":"jonas"},"sidebar":"tutorialSidebar","previous":{"title":"\xc9v\xe8nements","permalink":"/docs/api/events"},"next":{"title":"Ticket Scanning API","permalink":"/docs/api/scan-ticket"}}');var s=n(74848),r=n(28453);const a={sidebar_position:11,slug:"reservations",title:"R\xe9servations et billets",description:"Cr\xe9ez un \xe9v\xe8nement avec entr\xe9e libre.",keywords:["cashless","billetterie","ticketing","cli","curl","python"],wiktags:["cashless","billetterie","ticketing","curl","python"],authors:"jonas"},d=void 0,l={},c=[{value:"Reservations",id:"reservations",level:2},{value:"Billet",id:"billet",level:2}];function o(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"reservations",children:"Reservations"}),"\n",(0,s.jsx)(t.p,{children:"Une reservation peut avoir plusieurs billets."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"# List all :\nGET /api/reservations/\n# Retrieve one :\nGET /api/reservations/<uuid>\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",metastring:'title="Reservations state"',children:"\n# several possible states for one reservation\nCANCELED, CREATED, UNPAID, FREERES, FREERES_USERACTIV, PAID, PAID_ERROR, PAID_NOMAIL, VALID, = 'C', 'R', 'U', 'F', 'FA', 'P', 'PE', 'PN', 'V',\nTYPE_CHOICES = [\n    (CANCELED, _('Annul\xe9e')),\n    (CREATED, _('Cr\xe9e')),\n    (UNPAID, _('Non pay\xe9e')),\n    (FREERES, _('Mail non v\xe9rifi\xe9')),\n    (FREERES_USERACTIV, _('Mail user v\xe9rifi\xe9')),\n    (PAID, _('Pay\xe9e')),\n    (PAID_ERROR, _('Pay\xe9e mais mail non valide')),\n    (PAID_NOMAIL, _('Pay\xe9e mais mail non envoy\xe9')),\n    (VALID, _('Valid\xe9e')),\n]\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Python Variable"}),(0,s.jsx)(t.th,{children:"String"}),(0,s.jsx)(t.th,{children:"Traduction"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"CANCELED"}),(0,s.jsx)(t.td,{children:"C"}),(0,s.jsx)(t.td,{children:"Annul\xe9e"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"CREATED"}),(0,s.jsx)(t.td,{children:"R"}),(0,s.jsx)(t.td,{children:"Cr\xe9e"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"UNPAID"}),(0,s.jsx)(t.td,{children:"U"}),(0,s.jsx)(t.td,{children:"Non pay\xe9e"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FREERES"}),(0,s.jsx)(t.td,{children:"F"}),(0,s.jsx)(t.td,{children:"Mail non v\xe9rifi\xe9"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"FREERES_USERACTIV"}),(0,s.jsx)(t.td,{children:"FA"}),(0,s.jsx)(t.td,{children:"Mail user v\xe9rifi\xe9"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PAID"}),(0,s.jsx)(t.td,{children:"P"}),(0,s.jsx)(t.td,{children:"Pay\xe9e"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PAID_ERROR"}),(0,s.jsx)(t.td,{children:"PE"}),(0,s.jsx)(t.td,{children:"Pay\xe9e mais mail non valide"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PAID_NOMAIL"}),(0,s.jsx)(t.td,{children:"PN"}),(0,s.jsx)(t.td,{children:"Pay\xe9e mais mail non envoy\xe9"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"VALID"}),(0,s.jsx)(t.td,{children:"V"}),(0,s.jsx)(t.td,{children:"Valid\xe9e"})]})]})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:'title="Reservations"',children:'[\n\t{\n\t\t"uuid": "8b375e71-52b2-422a-ab2d-5f1b4b2b12ac",\n\t\t"datetime": "2022-10-18T10:05:31.985512+04:00",\n\t\t"user_mail": "jturbeaux@pm.me",\n\t\t"event": "17dc4020-521b-4a74-a823-df65229eb724",\n\t\t"status": "V",\n\t\t"options": [\n\t\t\t"0fba6d07-555a-40d3-94aa-9edd97d1487c",\n\t\t\t"da35d52a-39fe-4674-b879-995fc50ea970"\n\t\t],\n\t\t"tickets": [\n\t\t\t"d875a95b-24f8-4f5a-b910-1e59ea52b615"\n\t\t],\n\t\t"paiements": [\n\t\t\t"db55449c-5edd-4c89-bb18-0f3da867d6fa"\n\t\t]\n\t},\n\t{\n\t\t"uuid": "e8ac055b-ab50-42db-8989-a36bec9e6862",\n\t\t"datetime": "2022-10-18T09:44:42.388278+04:00",\n\t\t"user_mail": "jturbeaux@pm.me",\n\t\t"event": "a4b5f5e2-a6e7-4162-bb06-0fe58647dd64",\n\t\t"status": "V",\n\t\t"options": [],\n\t\t"tickets": [\n\t\t\t"41d7fd2e-bc3b-440d-a75b-172be06c6d90"\n\t\t],\n\t\t"paiements": []\n\t}\n]\n'})}),"\n",(0,s.jsx)(t.h2,{id:"billet",children:"Billet"}),"\n",(0,s.jsx)(t.p,{children:"Un billet par personne."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"# List all ticket for the current event : datetime.now().date() :\nGET /api/ticket/\n# Retrieve one :\nGET /api/ticket/<uuid>\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",metastring:'title="ticket state"',children:"# several possible states for one ticket\nCREATED, NOT_ACTIV, NOT_SCANNED, SCANNED = 'C', 'N', 'K', 'S'\nSCAN_CHOICES = [\n    (CREATED, _('Cr\xe9e')),\n    (NOT_ACTIV, _('Non actif')),\n    (NOT_SCANNED, _('Non scann\xe9')),\n    (SCANNED, _('scann\xe9')),\n]\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:'title="Billet"',children:'[\n  {\n    "uuid": "d875a95b-24f8-4f5a-b910-1e59ea52b615",\n    "first_name": "Terry",\n    "last_name": "Pratchett",\n    "status": "K",\n    "seat": "L",\n    "options": [\n      "Fosse",\n      "Je viens avec mon gobelin"\n    ]\n  }\n]\n'})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>d});var i=n(96540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);