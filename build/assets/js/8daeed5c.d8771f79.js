"use strict";(self.webpackChunkdocumentation_v_2=self.webpackChunkdocumentation_v_2||[]).push([[517],{7434:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>o});var t=i(141),s=i(5213);const d={sidebar_position:5,slug:"products",title:"Produits",description:"Cr\xe9ez et listez les produits",keywords:["cashless","billetterie","ticketing","cli","curl","python"],wiktags:["cashless","billetterie","ticketing","curl","python"],authors:"jonas"},r=void 0,l={id:"api/05 Products",title:"Produits",description:"Cr\xe9ez et listez les produits",source:"@site/docs/api/05 Products.md",sourceDirName:"api",slug:"/api/products",permalink:"/docs/api/products",draft:!1,unlisted:!1,editUrl:"https://github.com/TiBillet/documentation/tree/main/tibillet/docs/api/05 Products.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,slug:"products",title:"Produits",description:"Cr\xe9ez et listez les produits",keywords:["cashless","billetterie","ticketing","cli","curl","python"],wiktags:["cashless","billetterie","ticketing","curl","python"],authors:"jonas"},sidebar:"tutorialSidebar",previous:{title:"Tenants",permalink:"/docs/api/tenants"},next:{title:"\xc9v\xe8nements",permalink:"/docs/api/events"}},c={},o=[{value:"Lister les produits",id:"lister-les-produits",level:2},{value:"Lister les tarifs",id:"lister-les-tarifs",level:2},{value:"Cr\xe9ation de produit",id:"cr\xe9ation-de-produit",level:2},{value:"Type de produits possible",id:"type-de-produits-possible",level:3},{value:"Cr\xe9ation de tarif",id:"cr\xe9ation-de-tarif",level:2},{value:"subscription_type",id:"subscription_type",level:3},{value:"adhesion_obligatoire",id:"adhesion_obligatoire",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"lister-les-produits",children:"Lister les produits"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /api/products/\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "uuid": "ac87a79f-792a-4c68-9ad3-2e04b417078e",\n    "name": "Adh\xe9sion Asso",\n    "short_description": null,\n    "long_description": null,\n    "terms_and_conditions_document": null,\n    "publish": true,\n    "img": "http://billetistan.django-local.org/media/images/300_CQusv1A.jpg",\n    "categorie_article": "A",\n    "send_to_cashless": true,\n    "prices": [\n      {\n        "uuid": "989f53f7-7241-4b56-8c85-410edda76d2f",\n        "short_description": null,\n        "long_description": null,\n        "name": "Tarif solidaires",\n        "prix": 10.0,\n        "vat": "NA",\n        "stock": null,\n        "max_per_user": 10,\n        "subscription_type": "Y",\n        "product": "ac87a79f-792a-4c68-9ad3-2e04b417078e",\n        "adhesion_obligatoire": null\n      },\n      {\n        "uuid": "9a719f4e-2d14-4e5c-8963-14d9d726bd79",\n        "short_description": null,\n        "long_description": null,\n        "name": "Plein Tarif",\n        "prix": 20.0,\n        "vat": "NA",\n        "stock": null,\n        "max_per_user": 10,\n        "subscription_type": "Y",\n        "product": "ac87a79f-792a-4c68-9ad3-2e04b417078e",\n        "adhesion_obligatoire": null\n      }\n    ]\n  }\n]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"lister-les-tarifs",children:"Lister les tarifs"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST /api/prices/\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "uuid": "e4980a38-e8ec-4bca-ad8c-59f9a64646c2",\n    "product": "bd8bcd60-0a5f-4fdb-bdb1-1fa12392d56a",\n    "name": "Par mois",\n    "short_description": "Payez au mois",\n    "long_description": null,\n    "prix": 30.0,\n    "vat": "NA",\n    "stock": null,\n    "max_per_user": 10,\n    "adhesion_obligatoire": null,\n    "subscription_type": "M"\n  },\n  {\n    "uuid": "6c2456d7-585c-4e33-9a4d-27ff38932481",\n    "product": "bd8bcd60-0a5f-4fdb-bdb1-1fa12392d56a",\n    "name": "A l\'ann\xe9e Y",\n    "short_description": "Payez \xe0 l\'ann\xe9e",\n    "long_description": null,\n    "prix": 360.0,\n    "vat": "NA",\n    "stock": null,\n    "max_per_user": 10,\n    "adhesion_obligatoire": null,\n    "subscription_type": "Y"\n  }\n]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"cr\xe9ation-de-produit",children:"Cr\xe9ation de produit"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST /api/products/\n"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Item"}),(0,t.jsx)(n.th,{children:"type"}),(0,t.jsx)(n.th,{children:"Requis"}),(0,t.jsx)(n.th,{children:"Exemple"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"name"}),(0,t.jsx)(n.td,{children:"text"}),(0,t.jsx)(n.td,{children:"Y"}),(0,t.jsx)(n.td,{children:"Billet"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"categorie_article"}),(0,t.jsx)(n.td,{children:"text"}),(0,t.jsx)(n.td,{children:"Y"}),(0,t.jsx)(n.td,{children:"B"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"send_to_cashless"}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"false"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"img"}),(0,t.jsx)(n.td,{children:"binary"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"/home/jojo/img.jpg"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"send_to_cashless : Pour indiquer une adh\xe9sion associative enregistr\xe9e sur carte cashless TiBillet. Un seul produit\npossible par instance."}),"\n",(0,t.jsx)(n.h3,{id:"type-de-produits-possible",children:"Type de produits possible"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"String"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Billet"}),(0,t.jsx)(n.td,{children:"B"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Pack d'objets"}),(0,t.jsx)(n.td,{children:"P"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Recharge cashless"}),(0,t.jsx)(n.td,{children:"R"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Vetement"}),(0,t.jsx)(n.td,{children:"T"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Merchandasing"}),(0,t.jsx)(n.td,{children:"M"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Abonnement / Adh\xe9sion"}),(0,t.jsx)(n.td,{children:"A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Gratuit / Free"}),(0,t.jsx)(n.td,{children:"F"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"cr\xe9ation-de-tarif",children:"Cr\xe9ation de tarif"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST /api/prices/\n"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Item"}),(0,t.jsx)(n.th,{children:"type"}),(0,t.jsx)(n.th,{children:"Requis"}),(0,t.jsx)(n.th,{children:"Exemple"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"product"}),(0,t.jsx)(n.td,{children:"int"}),(0,t.jsx)(n.td,{children:"Y"}),(0,t.jsx)(n.td,{children:"uuid4"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"name"}),(0,t.jsx)(n.td,{children:"text"}),(0,t.jsx)(n.td,{children:"Y"}),(0,t.jsx)(n.td,{children:"Demi tarif"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"prix"}),(0,t.jsx)(n.td,{children:"decimal"}),(0,t.jsx)(n.td,{children:"Y"}),(0,t.jsx)(n.td,{children:"5"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"vat"}),(0,t.jsx)(n.td,{children:"decimal"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"NA"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"max_per_ser"}),(0,t.jsx)(n.td,{children:"int"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"10"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"stock"}),(0,t.jsx)(n.td,{children:"int"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"300"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"subscription_type"}),(0,t.jsx)(n.td,{children:"text"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"Null / Y / M"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"adhesion_obligatoire"}),(0,t.jsx)(n.td,{children:"text"}),(0,t.jsx)(n.td,{children:"N"}),(0,t.jsx)(n.td,{children:"uuid4 product"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"subscription_type",children:"subscription_type"}),"\n",(0,t.jsx)(n.p,{children:"Y for years\nM for Month"}),"\n",(0,t.jsx)(n.h3,{id:"adhesion_obligatoire",children:"adhesion_obligatoire"}),"\n",(0,t.jsx)(n.p,{children:"Exemple : Tarif abonn\xe9 disponible uniquement si utilisateur connect\xe9 et ayant souscrit \xe0 l'abonnement correspondant."})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},5213:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>r});var t=i(4673);const s={},d=t.createContext(s);function r(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);